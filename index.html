<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <title>فكرة سوفت وير - نقطة البيع</title>
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/core.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/components.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/icons.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/responsive.css" rel="stylesheet" type="text/css" />
    <link href="assets/plugins/chosen/chosen.min.css" rel="stylesheet" type="text/css" />
    <link href="assets/plugins/daterangepicker/daterangepicker.css" rel="stylesheet" type="text/css" />
    <link href="assets/plugins/dataTables/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
    <link href="assets/plugins/dataTables/dataTables.bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/pages.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/assets/css/notiflix-2.4.0.min.css">
    <link href="assets/css/arabic-rtl.css" rel="stylesheet" type="text/css" />
</head>

<body>

    <div class="main_app">

        <div id="loading"></div>
        <div class="container">
            <div class="row">
                <div class="col-sm-12">

                    <div class="button-list pull-left m-t-15 m-l-10">

                        <div class="btn-group p_one">
                            <button id="productModal" data-toggle="modal" data-target="#Products" type="button"
                                class="btn btn-default waves-effect waves-light">
                                <span class="btn-label"><i class=" 	glyphicon glyphicon-barcode"></i> </span> المنتجات
                            </button>
                            <button id="newProductModal" data-toggle="modal" data-target="#newProduct" type="button"
                                class="btn btn-warning waves-effect waves-light">
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>

                        <div class="btn-group p_two">
                            <button id="categoryModal" data-toggle="modal" data-target="#Categories" type="button"
                                class="btn btn-default waves-effect waves-light">
                                <span class="btn-label"><i class="glyphicon glyphicon-th"></i> </span> التصنيفات
                            </button>
                            <button id="newCategoryModal" data-toggle="modal" data-target="#newCategory" type="button"
                                class="btn btn-warning waves-effect waves-light">
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>

                        <div class="btn-group p_clients">
                            <button id="clientsModal" data-toggle="modal" data-target="#Clients" type="button"
                                class="btn btn-default waves-effect waves-light">
                                <span class="btn-label"><i class="glyphicon glyphicon-user"></i> </span> العملاء
                            </button>
                            <button id="newClientModal" data-toggle="modal" data-target="#newClient" type="button"
                                class="btn btn-warning waves-effect waves-light">
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>

                        <button id="viewRefOrders" data-toggle="modal" data-target="#holdOrdersModal" type="button"
                            class="btn btn-info waves-effect waves-light">
                            <span class="btn-label"><i class="fa fa-shopping-basket"></i> </span> الطلبات المفتوحة
                        </button>

                        <button id="viewUnpaidTransactions" data-toggle="modal" data-target="#unpaidTransactionsModal" type="button"
                            class="btn btn-danger waves-effect waves-light">
                            <span class="btn-label"><i class="fa fa-money"></i> </span> المعاملات غير المدفوعة
                        </button>

                        <button id="viewLowStock" data-toggle="modal" data-target="#lowStockModal" type="button"
                            class="btn btn-warning waves-effect waves-light">
                            <span class="btn-label"><i class="fa fa-warning"></i> </span> تنبيه المخزون
                        </button>

                        <button id="viewSalesReports" data-toggle="modal" data-target="#salesReportsModal" type="button"
                            class="btn btn-primary waves-effect waves-light">
                            <span class="btn-label"><i class="fa fa-line-chart"></i> </span> تقارير المبيعات
                        </button>

                        <button id="viewCustomerOrders" data-toggle="modal" data-target="#customerModal" type="button"
                            onclick="$(this).getCustomerOrders()" class="btn btn-info waves-effect waves-light"
                            style="display: none !important;">
                            <span class="btn-label"><i class="fa fa-user"></i> </span> طلبات العملاء
                        </button>

                    </div>




                    <img class="loading m-t-5" style="margin-left: 35%; display: none;" height="50px" src="assets/images/loading.gif"
                        alt="">

                    <div class="button-list pull-right m-t-15 m-l-10">

                        <button id="settings" data-toggle="modal" data-target="#settingsModal" type="button"
                            class="btn btn-default waves-effect waves-light p_five">
                            <i class="glyphicon glyphicon-cog"></i>
                        </button>

                        <button id="transactions" type="button"
                            class="btn btn-default waves-effect waves-light p_three">
                            <span class="btn-label"><i class=" 	glyphicon glyphicon-credit-card"></i> </span>
                            المعاملات
                        </button>

                        <button id="pointofsale" type="button" class="btn btn-default waves-effect waves-light">
                            <span class="btn-label"><i class=" 	glyphicon glyphicon-shopping-cart"></i> </span> نقطة
                            البيع
                        </button>

                        <div class="btn-group p_four">
                            <button id="usersModal" data-toggle="modal" data-target="#Users" type="button"
                                class="btn btn-default waves-effect waves-light">
                                <span class="btn-label"><i class=" 	glyphicon glyphicon-user"></i> </span> المستخدمون
                            </button>
                            <button id="add-user" data-toggle="modal" type="button"
                                class="btn btn-dark waves-effect waves-light">
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>


                        <button type="button" class="btn btn-light waves-effect waves-light" id="cashier">
                            <span class="btn-label"><i class="glyphicon glyphicon-user"></i> </span> <span
                                id="loggedin-user"></span>
                        </button>

                        <button id="log-out" type="button" class="btn btn-warning waves-effect waves-light">
                            <i class="glyphicon glyphicon-log-out"></i>
                        </button>


                        <button id="quit" type="button" class="btn btn-danger waves-effect waves-light">
                            <i class="glyphicon glyphicon-off"></i>
                        </button>

                    </div>

                </div>
            </div>
            <br>

            <div id="transactions_view">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card-box">
                            <div class="row">
                                <h3 class="col-md-2">المعاملات</h3>
                                <div class="col-md-1">
                                    <span>الخزينة</span>
                                    <select id="tills" class="form-control">
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <span>الكاشير</span>
                                    <select id="users" class="form-control">
                                    </select>
                                </div>
                                <div class="col-md-1">
                                    <span>الحالة</span>
                                    <select id="status" class="form-control status">
                                        <option value="1">مدفوع</option>
                                        <option value="0">غير مدفوع</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <span style="width: 100%;">التاريخ</span>
                                    <div id="reportrange">
                                        <i class="fa fa-calendar"></i>&nbsp;
                                        <span></span> <i class="fa fa-caret-down"></i>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">


                                <div class="row">
                                    <div class="row">
                                        <table class="table tablesaw-enhanced" id="transactionList">
                                            <thead>
                                                <tr>
                                                    <th>الفاتورة</th>
                                                    <th>التاريخ</th>
                                                    <th>الإجمالي</th>
                                                    <th>المدفوع</th>
                                                    <th>الباقي</th>
                                                    <th>الطريقة</th>
                                                    <th>الربح</th>
                                                    <th>الكاشير</th>
                                                    <th>عرض</th>
                                                </tr>
                                            </thead>
                                            <tbody id="transaction_list"></tbody>
                                        </table>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4 mr-2" id="productSales">
                                            <p style="margin-left: 30%; font-size: 40px; font-weight: 500;">المنتجات</p>
                                            <hr>
                                            <table class="table tablesaw-enhanced" id="productsSold">
                                                <thead>
                                                    <tr>
                                                        <th>الاسم</th>
                                                        <th>المباع</th>
                                                        <th>المتاح</th>
                                                        <th>المبيعات</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="product_sales"></tbody>
                                            </table>
                                        </div>
                                        <div class="col-md-7" id="totals" style="margin-left: 5%;">
                                            <p style="margin-left: 45%; font-size: 40px; font-weight: 500;">الإجمالي</p>
                                            <hr>

                                            <div class="row ">
                                                <div id="total_sales" class="btn-success">
                                                    <h5>المبيعات</h5>
                                                    <div id="counter">0</div>
                                                </div>

                                                <div id="total_transactions" class="col-md-3 btn-warning">
                                                    <h5>المعاملات</h5>
                                                    <div id="counter">0</div>
                                                </div>

                                                <div id="total_items" class="col-md-3 btn-warning">
                                                    <h5>العناصر</h5>
                                                    <div id="counter">0</div>
                                                </div>

                                                <div id="total_products" class="col-md-3 btn-warning">
                                                    <h5>المنتجات</h5>
                                                    <div id="counter">0</div>
                                                </div>
                                                <div id="total_profit" class="col-md-3 btn-warning">
                                                    <h5>إجمالي الربح</h5>
                                                    <div id="counter">0</div>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div id="pos_view">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card-box" id="card-box">
                            <div class="col-md-12">
                                <div class="row" style="margin-bottom: 10px;">
                                    <div class="col-md-10">
                                        <input type="text" id="clientSearchInput" class="form-control" 
                                            placeholder="ابحث عن عميل أو اختر... (Search or select client)" 
                                            style="margin-bottom: 5px;">
                                        <select name="" id="clientSelect" class="form-control chosen-select" data-placeholder="عميل عابر (Walk-in Customer)">
                                            <option value="0">عميل عابر (Walk-in Customer)</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <button data-toggle="modal" data-target="#newClient"
                                            class="btn btn-success"><i class="fa fa-plus"></i></button>
                                    </div>
                                </div>
                                <div class="row" style="display: none !important;">
                                    <div class="col-md-10">
                                        <select name="" id="customer" class="form-control">
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <button data-toggle="modal" data-target="#newCustomer"
                                            class="btn btn-success"><i class="fa fa-plus"></i></button>
                                    </div>
                                </div>
                                <div class="input-group m-t-5">
                                    <form action="" id="searchBarCode">
                                        <input type="text" required id="skuCode" name="skuCode" class="form-control"
                                            placeholder="امسح الباركود أو اكتب الرقم ثم اضغط Enter"
                                            aria-label="Recipient's username" aria-describedby="basic-addon2">
                                        <input type="submit" style="display:none;">
                                    </form>
                                    <span class="input-group-addon" id="basic-addon2">
                                        <i class="glyphicon glyphicon-ok"></i>
                                    </span>
                                </div>
                            </div>
                            <div>
                                <table class="table m-0" id="cartTable">

                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th width="150px">المنتج</th>
                                            <th width="170px">الكمية</th>
                                            <th>السعر</th>
                                            <th width="5px">
                                                <button onclick="$(this).cancelOrder()" class="btn btn-danger btn-xs"><i
                                                        class="fa fa-times"></i></button>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>


                                    </tbody>

                                </table>
                            </div>

                            <hr>

                            <div class="row">
                                <div class="col-md-6 h3">الخصم (Discount):</div>
                                <div class="col-md-6">
                                    <input class="form-control" type="number" id="inputDiscount" min="0" step="0.01"
                                        placeholder="0" oninput="$(this).calculateCart();">
                                </div>
                            </div>
                            <hr>
                            <div class="row ">
                                <div class="col-md-6 h2">السعر الكلي (Total):</div>
                                <div class="col-md-6 h2"><span id="price">0.0</span></div>
                            </div>
                            <!-- <div class="row">
                                    <div class="col-md-3">Discount</div>
                                    <div class="col-md-3"><input class="form-control" type="number" id="inputDiscount"
                                            oninput="$(this).calculateCart();"></div>
                                    <div class="col-md-3">Gross Price (inc <span id="taxInfo"></span>% Tax)</div>
                                    <div class="col-md-3">
                                        <h3 id="gross_price">0.00</h3>
                                    </div>
                                </div>
 -->


                            <div class="row m-t-20 px-5 ">
                                <div class="custom-row">

                                    <button onclick="$(this).submitDueOrder(3);" type="button"
                                        class="btn btn-info waves-effect waves-light custom-btn">
                                        <i class="fa fa-print"></i>
                                    </button>

                                    <button onclick="$(this).cancelOrder()" type="button"
                                        class="btn btn-danger waves-effect waves-light custom-btn">
                                        <span class="btn-label"><i class="fa fa-ban"></i></span>إلغاء
                                    </button>

                                    <button type="button" id="hold"
                                        class="btn btn-default waves-effect waves-light custom-btn">
                                        <span class="btn-label"><i class="fa fa-hand-paper-o"></i></span>تعليق
                                    </button>

                                    <button type="button" id="payButton"
                                        class="btn btn-success waves-effect waves-light custom-btn">
                                        <span class="btn-label"><i class="fa fa-money"></i></span>دفع
                                    </button>
                                </div>

                            </div>

                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="card-box">
                            <div class="row">
                                <div class="col-md-4">
                                    <input type="text" id="search" class="form-control"
                                        placeholder="ابحث عن المنتج بالاسم أو الباركود">
                                </div>
                                <div class="col-md-8">
                                    <div class="" id="categories">

                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="row" id="parent" style="overflow: auto">

                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div id="dueModal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">تعليق الطلب
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form action="">
                                <input type="text" id="refNumber" placeholder="أدخل رقم مرجعي" class="form-control">
                            </form>
                            <hr>
                            <div class="row">
                                <div class="col-md-4">
                                    <button onclick="$(this).go(1,true);"
                                        class="btn btn-success btn-lg btn-block">1</button>
                                </div>
                                <div class="col-md-4">
                                    <button onclick="$(this).go(2,true);"
                                        class="btn btn-success btn-lg btn-block">2</button>
                                </div>
                                <div class="col-md-4">
                                    <button onclick="$(this).go(3,true);"
                                        class="btn btn-success btn-lg btn-block">3</button>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-4">
                                    <button onclick="$(this).go(4,true);"
                                        class="btn btn-success btn-lg btn-block">4</button>
                                </div>
                                <div class="col-md-4">
                                    <button onclick="$(this).go(5,true);"
                                        class="btn btn-success btn-lg btn-block">5</button>
                                </div>
                                <div class="col-md-4">
                                    <button onclick="$(this).go(6,true);"
                                        class="btn btn-success btn-lg btn-block">6</button>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-4">
                                    <button onclick="$(this).go(7,true);"
                                        class="btn btn-success btn-lg btn-block">7</button>
                                </div>
                                <div class="col-md-4">
                                    <button onclick="$(this).go(8,true);"
                                        class="btn btn-success btn-lg btn-block">8</button>
                                </div>
                                <div class="col-md-4">
                                    <button onclick="$(this).go(9,true);"
                                        class="btn btn-success btn-lg btn-block">9</button>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-4">
                                    <button
                                        onclick="$('#refNumber').val($('#refNumber').val().substr(0,$('#refNumber').val().length -1))"
                                        class="btn btn-success btn-lg btn-block">⌫</button>
                                </div>
                                <div class="col-md-4">
                                    <button onclick="$(this).go(0,true);"
                                        class="btn btn-success btn-lg btn-block">0</button>
                                </div>
                                <div class="col-md-4">
                                    <button onclick="$('#refNumber').val('')"
                                        class="btn btn-success btn-lg btn-block">AC</button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" onclick="$(this).submitDueOrder(0);"
                                class="btn btn-primary btn-block btn-lg waves-effect waves-light">تعليق الطلب</button>
                        </div>

                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
            <!--  Modal content for the above example -->
            <div id="paymentModel" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
                aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="myLargeModalLabel">الدفع (Payment)</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="list-group">
                                        <a href="javascript:void(0)" id="cash" onclick="paymentType = 0"
                                            class="list-group-item active">
                                            نقدي (Cash)
                                        </a>
                                        <a href="javascript:void(0)" id="card" onclick="paymentType = 2"
                                            class="list-group-item">بطاقة (Card)</a>
                                    </div>
                                    <br>
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" id="partialPayment">
                                            دفع جزئي (Partial Payment)
                                        </label>
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" id="payLater">
                                            دفع لاحق (Pay Later)
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="basic-addon3">Price <span
                                                id="price_curr"></span>
                                            <input id="payablePrice" readonly type="number" class="form-control"
                                                aria-describedby="basic-addon3">
                                    </div>
                                    <br>
                                    <div class="input-group">
                                        <span class="input-group-addon" id="basic-addon3">Payment <span
                                                id="payment_curr"></span> </span>
                                        <input type="text" placeholder="0.0" class="form-control" id="payment"
                                            aria-describedby="basic-addon3">
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-md-9">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(1,false);"
                                                        class="btn btn-success btn-lg btn-block">1</button>
                                                </div>
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(2,false);"
                                                        class="btn btn-success btn-lg btn-block">2</button>
                                                </div>
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(3,false);"
                                                        class="btn btn-success btn-lg btn-block">3</button>
                                                </div>
                                                <div class="col-md-3"></div>
                                            </div>
                                            <br>
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(4,false);"
                                                        class="btn btn-success btn-lg btn-block">4</button>
                                                </div>
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(5,false);"
                                                        class="btn btn-success btn-lg btn-block">5</button>
                                                </div>
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(6,false);"
                                                        class="btn btn-success btn-lg btn-block">6</button>
                                                </div>
                                                <div class="col-md-3"></div>
                                            </div>
                                            <br>
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(7,false);"
                                                        class="btn btn-success btn-lg btn-block">7</button>
                                                </div>
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(8,false);"
                                                        class="btn btn-success btn-lg btn-block">8</button>
                                                </div>
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(9,false);"
                                                        class="btn btn-success btn-lg btn-block">9</button>
                                                </div>
                                                <div class="col-md-3"></div>
                                            </div>
                                            <br>
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <button
                                                        onclick="$('#payment').val($('#payment').val().substr(0,$('#payment').val().length -1));$(this).calculateChange();"
                                                        class="btn btn-success btn-lg btn-block">⌫</button>
                                                </div>
                                                <div class="col-md-3">
                                                    <button onclick="$(this).go(0,false);"
                                                        class="btn btn-success btn-lg btn-block">0</button>
                                                </div>
                                                <div class="col-md-3">
                                                    <button onclick="$(this).digits()"
                                                        class="btn btn-success btn-lg btn-block">.</button>
                                                </div>
                                                <div class="col-md-3"></div>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <button onclick="$('#payment').val('');$(this).calculateChange();"
                                                class="btn btn-danger btn-block btn-lg">AC</button>
                                        </div>
                                    </div>
                                    <br>
                                    <div class="input-group" id="cardInfo">
                                        <span class="input-group-addon" id="basic-addon3">Card Info </span>
                                        <input type="text" class="form-control" id="paymentInfo"
                                            aria-describedby="basic-addon3">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div class="row" style="width: 100%; margin: 0;">
                                <div class="col-md-4" style="padding: 5px;">
                                    <div class="btn btn-primary btn-block btn-lg waves-effect waves-light" style="margin: 0;">
                                        الباقي (Change): <span id="change_curr"></span><span id="change">0</span>
                                    </div>
                                </div>
                                <div class="col-md-4" id="remainingBalance" style="display:none; padding: 5px;">
                                    <div class="btn btn-warning btn-block btn-lg waves-effect waves-light" style="margin: 0;">
                                        الرصيد المتبقي: <span id="remaining_curr"></span><span id="remaining">0</span>
                                    </div>
                                </div>
                                <div class="col-md-4" style="padding: 5px;">
                                    <button type="button" id="confirmPayment"
                                        class="btn btn-success btn-block btn-lg waves-effect waves-light" style="margin: 0;">
                                        تأكيد الدفع (Confirm)
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->

            <div id="newClient" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">عميل جديد (New Client)
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form id="saveClient" data-parsley-validate>
                                <div class="form-group">
                                    <label for="clientName">اسم العميل (Client Name)*</label>
                                    <input type="text" required="required" name="name" parsley-trigger="change"
                                        placeholder="أدخل الاسم" class="form-control" id="clientName">
                                </div>
                                <div class="form-group">
                                    <label for="clientPhone">رقم الهاتف (Phone)</label>
                                    <input type="text" name="phone" parsley-trigger="change"
                                        placeholder="أدخل رقم الهاتف" class="form-control" id="clientPhone">
                                </div>
                                <div class="form-group">
                                    <label for="clientEmail">البريد الإلكتروني (Email)</label>
                                    <input type="email" name="email" parsley-trigger="change"
                                        placeholder="أدخل البريد الإلكتروني" class="form-control" id="clientEmail">
                                </div>
                                <div class="form-group">
                                    <label for="clientAddress">العنوان (Address)</label>
                                    <input type="text" name="address" parsley-trigger="change"
                                        placeholder="أدخل العنوان" class="form-control" id="clientAddress">
                                </div>

                                <input type="submit" value="حفظ العميل" class="btn btn-primary btn-block waves-effect waves-light">
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div id="newCustomer" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">New Customer
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form id="saveCustomer" data-parsley-validate>
                                <div class="form-group">
                                    <label for="userName">Customer Name*</label>
                                    <input type="text" required="required" name="name" parsley-trigger="change"
                                        placeholder="Enter name" class="form-control" id="userName">
                                </div>
                                <div class="form-group">
                                    <label for="userName">Customer Phone</label>
                                    <input type="text" name="phone" parsley-trigger="change"
                                        placeholder="Enter Phone number" class="form-control" id="phoneNumber">
                                </div>
                                <div class="form-group">
                                    <label for="userName">Customer Email</label>
                                    <input type="email" name="email" parsley-trigger="change"
                                        placeholder="Enter email address" class="form-control" id="emailAddress">
                                </div>
                                <div class="form-group">
                                    <label for="userName">Customer Address</label>
                                    <input type="text" name="address" parsley-trigger="change"
                                        placeholder="Enter address" class="form-control" id="userAddress">
                                </div>

                                <input type="submit" class="btn btn-primary btn-block waves-effect waves-light">
                            </form>
                        </div>
                    </div>
                </div>
            </div>



            <div id="newProduct" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">Product
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form id="saveProduct" encType="multipart/form-data">
                                <input type="hidden" name="id" id="product_id">
                                <input type="hidden" name="img" id="img">
                                <input type="hidden" name="remove" id="remove_img">
                                <div class="form-group">
                                    <label for="userName">التصنيف</label>
                                    <select name="category" class="form-control" id="category"></select>
                                </div>
                                <div class="form-group">
                                    <label for="userName">اسم المنتج</label>
                                    <input type="text" required="required" name="name" parsley-trigger="change"
                                        placeholder="أدخل اسم المنتج" class="form-control" id="productName">
                                </div>
                                <div class="form-group">
                                    <label for="userName">الباركود</label>
                                    <input type="text" required="required" name="barcode" parsley-trigger="change"
                                        placeholder="أدخل الباركود" class="form-control" id="barcode">
                                </div>
                                <div class="form-group">
                                    <label for="userName">تاريخ الانتهاء</label>
                                    <input type="text" name="expirationDate" parsley-trigger="change"
                                        placeholder="مثال : ('24/08/2020') " class="form-control" id="expirationDate">
                                </div>
                                <div class="form-group">
                                    <label for="userName">الربح</label>
                                    <input type="text" required="required" name="profit" parsley-trigger="change"
                                        placeholder="Profit per Item " class="form-control" id="profit">
                                </div>
                                <div class="form-group">
                                    <label for="userName">Product Price</label>
                                    <input type="text" required="required" name="price" placeholder="Price"
                                        class="form-control" id="product_price">
                                </div>
                                <div class="form-group">
                                    <label for="userName">Stock</label>
                                    <input type="text" name="quantity" placeholder="Available stock" value="10000"
                                        class="form-control" id="quantity">
                                </div>
                                <div class="form-group">
                                    <label><input type="checkbox" name="stock" id="stock" value="on"
                                            style="max-width: 30px; float: left;">
                                        Disable stock check </label>
                                </div>
                                <div class="form-group">
                                    <label for="userName"><span id="rmv_img"
                                            class="btn btn-xs btn-warning">Remove</span>
                                        Picture </label>
                                    <div id="current_img"></div>
                                    <input type="file" name="imagename" id="imagename">
                                </div>

                                <input type="submit" id="submitProduct" value="حفظ المنتج"
                                    class="btn btn-primary btn-block waves-effect waves-light">
                            </form>
                        </div>
                    </div>
                </div>
            </div>


            <div id="newCategory" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-md">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">التصنيف
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form id="saveCategory">
                                <div class="form-group">
                                    <label for="userName">الاسم</label>
                                    <input id="category_id" type="hidden" name="id">
                                    <input id="categoryName" type="text" required="required" name="name"
                                        placeholder="أدخل اسم التصنيف" class="form-control">
                                </div>

                                <input type="submit" id="submitCategory" value="حفظ"
                                    class="btn btn-primary btn-block waves-effect waves-light">
                            </form>
                        </div>
                    </div>
                </div>
            </div>



            <div id="Products" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">المنتجات
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                                <button class="btn btn-white pull-right" id="print_list">تحميل</button>
                            </h4>
                        </div>
                        <div class="modal-body" id="all_products" style="padding: 20px; padding-right: 40px;">
                            <table class="table table-bordered" id="productList">
                                <thead>
                                    <tr>
                                        <th>الباركود</th>
                                        <th>الصورة</th>
                                        <th>الاسم</th>
                                        <th>السعر</th>
                                        <th>المخزون</th>
                                        <th>التصنيف</th>
                                        <th>الإجراء</th>
                                    </tr>
                                </thead>
                                <tbody id="product_list"></tbody>
                            </table>

                        </div>
                    </div>
                </div>
            </div>




            <div id="Users" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">Users
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body" id="all_userss" style="padding: 20px; padding-right: 40px;">
                            <table class="table table-bordered" id="userList">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Username</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="user_list"></tbody>
                            </table>

                        </div>
                    </div>
                </div>
            </div>




            <div id="Categories" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-md">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">التصنيفات
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body">
                            <table class="table table-bordered" id="categoryList">
                                <thead>
                                    <tr>
                                        <th>الاسم</th>
                                        <th>الإجراء</th>
                                    </tr>
                                </thead>
                                <tbody id="category_list"></tbody>
                            </table>

                        </div>
                    </div>
                </div>
            </div>



            <div id="userModal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">Account Infomarion
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form id="saveUser" data-parsley-validate>
                                <input type="hidden" name="id" id="user_id">
                                <div class="form-group">
                                    <label for="userName">Name*</label>
                                    <input type="text" required="required" name="fullname" parsley-trigger="change"
                                        placeholder="Enter name" class="form-control" id="fullname">
                                </div>
                                <div class="form-group">
                                    <label for="userName">Username*</label>
                                    <input type="text" name="username" parsley-trigger="change"
                                        placeholder="Login Username" class="form-control" id="username">
                                </div>
                                <div class="form-group">
                                    <label for="userName">Password</label>
                                    <input type="password" name="password" parsley-trigger="change"
                                        placeholder="Password" class="form-control" id="password">
                                </div>
                                <div class="form-group">
                                    <label for="userName">Repeat Password</label>
                                    <input type="password" name="pass" parsley-trigger="change" placeholder="Repeat"
                                        class="form-control" id="pass">
                                </div>

                                <div class="perms">

                                    <h4 style="font-size: 22px; margin-top: 20px;">Permissions</h4>
                                    <hr>

                                    <div class="form-group">
                                        <span><input type="checkbox" name="perm_products" id="perm_products"> Manage
                                            Products and Stock </span>
                                    </div>
                                    <div class="form-group">
                                        <span><input type="checkbox" name="perm_categories" id="perm_categories"> Manage
                                            Product Categories </span>
                                    </div>
                                    <div class="form-group">
                                        <span><input type="checkbox" name="perm_transactions" id="perm_transactions">
                                            View Transactions </span>
                                    </div>
                                    <div class="form-group">
                                        <span><input type="checkbox" name="perm_users" id="perm_users"> Manage Users and
                                            Permissions </span>
                                    </div>
                                    <div class="form-group">
                                        <span><input type="checkbox" name="perm_settings" id="perm_settings"> Manage
                                            Settings </span>
                                    </div>

                                </div>

                                <input type="submit" class="btn btn-primary btn-block waves-effect waves-light">
                            </form>
                        </div>
                    </div>
                </div>
            </div>





            <div id="holdOrdersModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
                aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="myLargeModalLabel">الطلبات المفتوحة</h4>
                        </div>
                        <div class="modal-body">
                            <input type="text" id="holdOrderInput" placeholder="ابحث عن الطلب بالرقم المرجعي"
                                class="holdOrderInput form-control">
                            <div class="holdOrderKeyboard"></div>
                            <br>
                            <div class="row" style="height: 460px;overflow-x: hidden;overflow-y:scroll"
                                id="randerHoldOrders">
                                <p>please wait <span class="dot"></span> </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>





            <div id="customerModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
                aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="myLargeModalLabel">Customer Orders</h4>
                        </div>
                        <div class="modal-body">
                            <input type="text" id="holdCustomerOrderInput" placeholder="Search order by customer name"
                                class="holdCustomerOrderInput form-control">
                            <div class="customerOrderKeyboard"></div>
                            <br>
                            <div class="row" style="height: 460px; overflow: scroll;" id="randerCustomerOrders">
                                <p>please wait <span class="dot"></span> </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>




            <div id="orderModal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button class="btn btn-sm btn-default" onclick="$(this).print()">Print</button> <br> <button
                                type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        </div>
                        <div class="modal-body" id="viewTransaction">
                        </div>

                        <div class="alert alert-danger" style="font-size:11px;">Right-Click and Reload if you get stuck
                            after cancelling a print.</div>
                    </div>
                </div>
            </div>


            <div id="Clients" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
                aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="myLargeModalLabel">العملاء (Clients)
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body" id="all_clients" style="padding: 20px; padding-right: 40px;">
                            <div class="form-group">
                                <input type="text" id="searchClients" class="form-control" placeholder="ابحث عن عميل بالاسم أو الهاتف... (Search by name or phone)">
                            </div>
                            <table class="table table-bordered" id="clientList">
                                <thead>
                                    <tr>
                                        <th>الاسم (Name)</th>
                                        <th>الهاتف (Phone)</th>
                                        <th>الرصيد المستحق (Balance)</th>
                                        <th>إجمالي المشتريات (Total Purchases)</th>
                                        <th>إجمالي المدفوع (Total Paid)</th>
                                        <th>الإجراء (Action)</th>
                                    </tr>
                                </thead>
                                <tbody id="client_list"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="clientStatementModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
                aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="myLargeModalLabel">كشف حساب العميل (Client Statement)
                                <button class="btn btn-sm btn-primary pull-left" onclick="printClientStatement()">
                                    <i class="fa fa-print"></i> طباعة
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body" id="clientStatementContent">
                            <div class="client-statement-header" style="text-align: center; margin-bottom: 20px;">
                                <h3 id="statementClientName"></h3>
                                <p>
                                    <strong>الهاتف:</strong> <span id="statementClientPhone"></span><br>
                                    <strong>البريد الإلكتروني:</strong> <span id="statementClientEmail"></span>
                                </p>
                            </div>
                            <div class="alert alert-info">
                                <div class="row">
                                    <div class="col-md-4">
                                        <strong>إجمالي المشتريات:</strong><br>
                                        <h4 id="statementTotalPurchases">0.00</h4>
                                    </div>
                                    <div class="col-md-4">
                                        <strong>إجمالي المدفوع:</strong><br>
                                        <h4 id="statementTotalPaid" class="text-success">0.00</h4>
                                    </div>
                                    <div class="col-md-4">
                                        <strong>الرصيد المتبقي:</strong><br>
                                        <h4 id="statementBalance" class="text-danger">0.00</h4>
                                    </div>
                                </div>
                            </div>
                            <h4>سجل المعاملات (Transaction History)</h4>
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>التاريخ (Date)</th>
                                        <th>النوع (Type)</th>
                                        <th>الفاتورة (Invoice)</th>
                                        <th>المبلغ (Amount)</th>
                                        <th>المدفوع (Paid)</th>
                                        <th>الرصيد (Balance)</th>
                                    </tr>
                                </thead>
                                <tbody id="statementTransactionsList">
                                    <tr><td colspan="6" class="text-center">جاري التحميل...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="clientPaymentModal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">دفع مبلغ للعميل (Add Payment)
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-info">
                                <strong id="clientPaymentName"></strong><br>
                                الرصيد المستحق: <span id="clientPaymentBalance"></span>
                            </div>
                            <form id="saveClientPayment">
                                <input type="hidden" id="clientPaymentId" name="clientId">
                                <div class="form-group">
                                    <label for="paymentAmount">المبلغ المدفوع (Payment Amount)*</label>
                                    <input type="number" step="0.01" required="required" name="amount"
                                        placeholder="أدخل المبلغ" class="form-control" id="paymentAmount">
                                </div>
                                <div class="form-group">
                                    <label for="paymentTypeClient">طريقة الدفع (Payment Type)</label>
                                    <select name="paymentType" class="form-control" id="paymentTypeClient">
                                        <option value="Cash">نقدي (Cash)</option>
                                        <option value="Card">بطاقة (Card)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="paymentNote">ملاحظة (Note)</label>
                                    <textarea name="note" class="form-control" id="paymentNote" rows="2"></textarea>
                                </div>
                                <input type="submit" value="تأكيد الدفع" class="btn btn-primary btn-block waves-effect waves-light">
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div id="unpaidTransactionsModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
                aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="myLargeModalLabel">المعاملات غير المدفوعة (Unpaid Transactions)</h4>
                        </div>
                        <div class="modal-body" style="max-height: 600px; overflow-y: auto;">
                            <div class="form-group" style="padding: 0 15px;">
                                <input type="text" id="searchUnpaidTransactions" class="form-control" placeholder="ابحث عن فاتورة أو عميل... (Search by invoice or client)">
                            </div>
                            <table class="table table-bordered table-striped" id="unpaidTransactionsList">
                                <thead>
                                    <tr>
                                        <th>الفاتورة (Invoice)</th>
                                        <th>العميل (Client)</th>
                                        <th>التاريخ (Date)</th>
                                        <th>الإجمالي (Total)</th>
                                        <th>المدفوع (Paid)</th>
                                        <th>الباقي (Remaining)</th>
                                        <th>الإجراء (Action)</th>
                                    </tr>
                                </thead>
                                <tbody id="unpaid_transactions_list">
                                    <tr><td colspan="7" class="text-center">جاري التحميل...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="addPaymentModal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">إضافة دفعة (Add Payment)</h4>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-warning">
                                <strong>الفاتورة: <span id="transPaymentInvoice"></span></strong><br>
                                <strong>العميل: <span id="transPaymentClient"></span></strong><br>
                                الإجمالي: <span id="transPaymentTotal"></span><br>
                                المدفوع: <span id="transPaymentPaid"></span><br>
                                <strong style="color: red;">المتبقي: <span id="transPaymentRemaining"></span></strong>
                            </div>
                            <form id="saveTransactionPayment">
                                <input type="hidden" id="transPaymentId" name="transactionId">
                                <div class="form-group">
                                    <label for="transPaymentAmount">المبلغ المدفوع (Payment Amount)*</label>
                                    <input type="number" step="0.01" required="required" name="amount"
                                        placeholder="أدخل المبلغ" class="form-control" id="transPaymentAmount">
                                </div>
                                <div class="form-group">
                                    <label for="transPaymentType">طريقة الدفع (Payment Type)</label>
                                    <select name="paymentType" class="form-control" id="transPaymentType">
                                        <option value="0">نقدي (Cash)</option>
                                        <option value="2">بطاقة (Card)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="transPaymentInfo">ملاحظة (Note)</label>
                                    <textarea name="paymentInfo" class="form-control" id="transPaymentInfo" rows="2"></textarea>
                                </div>
                                <input type="submit" value="تأكيد الدفع" class="btn btn-success btn-block waves-effect waves-light">
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div id="lowStockModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
                aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="myLargeModalLabel">تنبيه المخزون المنخفض (Low Stock Alert)</h4>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-warning">
                                <strong>تنبيه!</strong> المنتجات التالية منخفضة المخزون أو نفدت
                            </div>
                            <div class="form-group">
                                <label>حد التنبيه (Alert Threshold):</label>
                                <input type="number" id="stockThreshold" class="form-control" value="10" min="1" style="width: 150px; display: inline-block;">
                                <button class="btn btn-primary" onclick="checkLowStock()">تحديث (Refresh)</button>
                            </div>
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>الباركود (Barcode)</th>
                                        <th>المنتج (Product)</th>
                                        <th>التصنيف (Category)</th>
                                        <th>المخزون (Stock)</th>
                                        <th>السعر (Price)</th>
                                        <th>الحالة (Status)</th>
                                    </tr>
                                </thead>
                                <tbody id="low_stock_list">
                                    <tr><td colspan="6" class="text-center">جاري التحميل...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="salesReportsModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
                aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="myLargeModalLabel">تقارير المبيعات (Sales Reports)</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>من تاريخ (From Date):</label>
                                        <input type="date" id="reportFromDate" class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>إلى تاريخ (To Date):</label>
                                        <input type="date" id="reportToDate" class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>&nbsp;</label>
                                        <button class="btn btn-primary btn-block" id="generateSalesReportBtn">
                                            <i class="fa fa-search"></i> إنشاء التقرير
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div id="salesReportContent">
                                <div class="alert alert-info text-center">
                                    <i class="fa fa-info-circle"></i> اختر نطاق التاريخ وانقر على "إنشاء التقرير"
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-success" id="printSalesReportBtn">
                                <i class="fa fa-print"></i> طباعة
                            </button>
                            <button type="button" class="btn btn-primary" id="exportSalesReportBtn">
                                <i class="fa fa-download"></i> تصدير CSV
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="settingsModal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                <div class="modal-dialog modal-md">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title" id="mySmallModalLabel">Settings
                                <img class="loading m-t-5" style="margin-left: 35%" height="50px"
                                    src="assets/images/loading.gif" alt="">
                            </h4>
                        </div>
                        <div class="modal-body">


                            <div class="form-group">
                                <label for="app">Application</label>
                                <select name="app" id="app" class="form-control">
                                    <option>Standalone Point of Sale</option>
                                    <option>Network Point of Sale Terminal</option>
                                    <option>Network Point of Sale Server</option>
                                </select>
                            </div>

                            <form id="net_settings_form">
                                <div class="row">
                                    <div class="form-group">
                                        <label for="userName">Server IP Address*</label>
                                        <input type="text" required="required"
                                            placeholder="Enter the IP address of the admin computer." name="ip"
                                            class="form-control" id="ip">
                                    </div>
                                    <div class="row">
                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <label for="userName">Till Number*</label>
                                                <input type="text" required="required" placeholder="Enter a number"
                                                    name="till" class="form-control" id="till">
                                            </div>
                                        </div>
                                        <div class="col-md-7">
                                            <div class="form-group">
                                                <label for="userName">Hardware Identification Number </label>
                                                <input type="text" required="required" name="mac" class="form-control"
                                                    id="mac" readonly="readonly">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <input id="save_settings" type="submit"
                                            class="btn btn-default btn-block waves-effect waves-light"
                                            value="Save Settings">
                                    </div>
                                </div>
                            </form>



                            <div class="alert alert-info">
                                <h4><i class="fa fa-database"></i> نسخ احتياطي للبيانات (Database Backup)</h4>
                                <p>احفظ بياناتك بشكل دوري لتجنب فقدانها</p>
                                <button type="button" class="btn btn-primary" onclick="exportAllData()">
                                    <i class="fa fa-download"></i> تصدير جميع البيانات (Export All Data)
                                </button>
                                <button type="button" class="btn btn-success" onclick="exportClients()">
                                    <i class="fa fa-users"></i> تصدير العملاء (Export Clients)
                                </button>
                                <button type="button" class="btn btn-warning" onclick="exportTransactions()">
                                    <i class="fa fa-file-text"></i> تصدير المعاملات (Export Transactions)
                                </button>
                                <button type="button" class="btn btn-info" onclick="exportProducts()">
                                    <i class="fa fa-barcode"></i> تصدير المنتجات (Export Products)
                                </button>
                            </div>
                            <hr>

                            <form id="settings_form" encType="multipart/form-data">

                                <input type="hidden" name="id" id="settings_id">
                                <input type="hidden" name="img" id="logo_img">
                                <input type="hidden" name="remove" id="remove_logo">

                                <div class="row">
                                    <div class="col-md-6">

                                        <div class="form-group">
                                            <label for="userName">Store Name</label>
                                            <input type="text" required="required" name="store" class="form-control"
                                                id="store">
                                        </div>
                                        <div class="form-group">
                                            <label for="userName">Address Line 1</label>
                                            <input type="text" required="required" name="address_one"
                                                class="form-control" id="address_one">
                                        </div>
                                        <div class="form-group">
                                            <label for="userName">Address Line 2</label>
                                            <input type="text" required="required" name="address_two"
                                                class="form-control" id="address_two">
                                        </div>
                                        <div class="form-group">
                                            <label for="userName">Contact Number</label>
                                            <input type="text" name="contact" class="form-control" id="contact">
                                        </div>
                                        <div class="form-group" style="display: none;">
                                            <label for="userName">Vat Number</label>
                                            <input type="text" name="tax" parsley-trigger="change" class="form-control"
                                                id="tax">
                                        </div>


                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="userName">Currency Symbol</label>
                                            <input type="text" value="EGP" name="symbol" class="form-control"
                                                id="symbol">
                                        </div>

                                        <div class="form-group " style="display: none;">
                                            <label for="userName">Vat Percentage</label>
                                            <div style="width: 80%; float:left;">
                                                <input type="text" required="required" name="percentage" value="0"
                                                    class="form-control" id="percentage">
                                            </div>
                                            <div class="pull-right p-t-10" style="display: none;"> % </div>
                                        </div>
                                        <br><br>
                                        <div class="form-group" style="display: none;">
                                            <label><input type="checkbox" name="charge_tax" id="charge_tax"> Charge
                                                Vat</label>
                                        </div>
                                        <div class="form-group">
                                            <label for="userName"><span id="rmv_logo"
                                                    class="btn btn-xs btn-warning">Remove</span> Logo </label>
                                            <div id="current_logo"></div>

                                            <input type="file" name="imagename" id="logoname">
                                        </div>
                                        <div class="form-group">
                                            <label for="userName">Receipt Footer</label>
                                            <textarea name="footer" class="form-control" id="footer"></textarea>
                                        </div>
                                    </div>

                                </div>


                                <div class="form-group">
                                    <input id="save_settings" type="submit"
                                        class="btn btn-default btn-block waves-effect waves-light"
                                        value="Save Settings">
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <script> window.$ = window.jQuery = require('jquery'); </script>

    <script>


        require('./renderer.js');

    </script>
    <script src="/assets/js/notiflix-2.4.0.min.js"></script>
    <script src="assets/plugins/bootstrap/bootstrap.min.js"></script>
    <script src="assets/plugins/chosen/chosen.jquery.min.js"></script>
    <script src="assets/plugins/jquery-ui/jquery.form.min.js"></script>
    <script src="assets/plugins/daterangepicker/daterangepicker.min.js"></script>
    <script src="assets/plugins/dataTables/jquery.dataTables.min.js"></script>
    <script src="assets/plugins/dataTables/jquery.dataTables.bootstrap.js"></script>
    <!-- <script src="assets/plugins/jquery-ui/jquery-ui.min.js"></script>
    <script src="assets/plugins/jq-keyboard/jqkeyboard-min.js"></script>
    <script src="assets/plugins/jq-keyboard/jqk.layout.en.js"></script>
    <script src="assets/plugins/onscreen-keyboard/jquery.caret.min.js"></script> -->


    <script>

    // $(function () {
    //  "use strict";
    //     jqKeyboard.init({
    //         icon: "light"
    //       });
    //  });


    //  $('.holdOrderKeyboard').onscreenKeyboard({
	//     allowTypingClass: 'holdOrderInput'
    //   });


    //   $('.customerOrderKeyboard').onscreenKeyboard({
	//     allowTypingClass: 'holdCustomerOrderInput'
    //   });

    </script>

</body>

</html>